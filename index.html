<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fênix Smart Control — Mobile</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="mobile-header">
  <img src="logo.png" alt="Fenix" class="logo-mobile">
  <div class="title-mobile">FÊNIX<br><span>Soluções Industriais</span></div>
  <div class="status-inline">
    <div id="mqtt_status" class="status-off">MQTT: Desconectado</div>
    <div id="central_status" class="status-off">Central: Offline</div>
  </div>
</header>

<!-- ABAS -->
<nav class="tabs-mobile">
  <button class="tab-btn active" data-tab="sistema">Sistema</button>
  <button class="tab-btn" data-tab="config">Configurações</button>
  <button class="tab-btn" data-tab="historico">Histórico</button>
</nav>

<!-- CONTEÚDO -->
<main class="container-mobile">

  <!-- SISTEMA -->
  <section id="tab-sistema" class="tab-content active">
    <article class="card status-card">
      <div class="card-header">
        <svg class="icon-spark" viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M13 2L3 14h7l-1 8L21 10h-7z"/>
        </svg>
        <h3>STATUS DO SISTEMA</h3>
      </div>

      <button id="btnToggle" class="big-btn off"><span id="toggleText">LIGAR / DESLIGAR</span></button>

      <div class="info-row">
        <div><strong>Sistema:</strong> <span id="sistema">-</span></div>
        <div><strong>Boia:</strong> <span id="nivel">-</span></div>
      </div>

      <div class="info-row">
        <div><strong>RetroA:</strong> <span id="retroA_status">-</span></div>
        <div><strong>RetroB:</strong> <span id="retroB_status">-</span></div>
      </div>

      <div class="info-row">
        <div><strong>Poço da Vez:</strong> <span id="poco_ativo">-</span></div>
        <div><strong>Modo:</strong> <span id="manual">-</span></div>
      </div>

      <div class="info-row">
        <div><strong>Intervalo Rodízio:</strong> <span id="rodizio_min">-</span></div>
      </div>
    </article>

    <!-- POÇOS -->
    <article class="card well-card">
      <div class="well-header"><svg class="icon-tap" viewBox="0 0 24 24"><path fill="currentColor" d="M7 2v6h10V2z"/><path d="M5 11h14v9H5z" fill="currentColor"/></svg><h4>Poço 01</h4></div>
      <div class="well-body">
        <div><strong>Comunicação:</strong> <span id="p1_online">-</span></div>
        <div><strong>Fluxo:</strong> <span id="p1_fluxo">-</span></div>
        <div class="well-right"><strong>Acumulado ON:</strong><div id="p1_timer">- s</div></div>
      </div>
    </article>

    <article class="card well-card">
      <div class="well-header"><svg class="icon-tap" viewBox="0 0 24 24"><path fill="currentColor" d="M7 2v6h10V2z"/><path d="M5 11h14v9H5z" fill="currentColor"/></svg><h4>Poço 02</h4></div>
      <div class="well-body">
        <div><strong>Comunicação:</strong> <span id="p2_online">-</span></div>
        <div><strong>Fluxo:</strong> <span id="p2_fluxo">-</span></div>
        <div class="well-right"><strong>Acumulado ON:</strong><div id="p2_timer">- s</div></div>
      </div>
    </article>

    <article class="card well-card">
      <div class="well-header"><svg class="icon-tap" viewBox="0 0 24 24"><path fill="currentColor" d="M7 2v6h10V2z"/><path d="M5 11h14v9H5z" fill="currentColor"/></svg><h4>Poço 03</h4></div>
      <div class="well-body">
        <div><strong>Comunicação:</strong> <span id="p3_online">-</span></div>
        <div><strong>Fluxo:</strong> <span id="p3_fluxo">-</span></div>
        <div class="well-right"><strong>Acumulado ON:</strong><div id="p3_timer">- s</div></div>
      </div>
    </article>
  </section>

  <!-- CONFIGURAÇÕES -->
  <section id="tab-config" class="tab-content">
    <article class="card config-card">
      <h3>Configurações</h3>

      <label>Intervalo Rodízio</label>
      <select id="cfg_rodizio">
        <option value="5">5 min</option><option value="10">10 min</option><option value="30" selected>30 min</option>
      </select>

      <label>TimeOut (s)</label>
      <select id="cfg_timeout"><option>5</option><option>10</option><option selected>15</option></select>

      <label>Poço Manual</label>
      <select id="cfg_manual_poco"><option value="1">Poço 1</option><option value="2">Poço 2</option><option value="3">Poço 3</option></select>

      <button id="btnSendCfg" class="big-btn primary">ENVIAR</button>
      <div id="cfg_status" class="cfg-status"></div>
    </article>
  </section>

  <!-- HISTÓRICO -->
  <section id="tab-historico" class="tab-content">
    <article class="card history-card">
      <h3>Histórico</h3>
      <ul id="history_list" class="history-list"></ul>
    </article>
  </section>

</main>

<footer class="mobile-footer">
  <small>WebSocket: <code>wss://y1184ab7.ala.us-east-1.emqxsl.com:8084/mqtt</code></small>
</footer>

<script src="paho-mqtt.js"></script> <!-- sua lib Paho se desejar conectar -->
<script src="app.js"></script>
</body>
</html>
