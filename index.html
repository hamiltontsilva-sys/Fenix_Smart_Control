<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Fênix – Smart Control</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<header class="top-header">
    <img src="logo.png" class="app-logo">
    <div class="app-title">Fênix Smart Control</div>
</header>

<!-- MENU SUPERIOR -->
<nav class="tabs">
    <button class="tab-btn active" data-tab="dashboard">Dashboard</button>
    <button class="tab-btn" data-tab="pocos">Poços</button>
    <button class="tab-btn" data-tab="config">Configurações</button>
    <button class="tab-btn" data-tab="historico">Histórico</button>
</nav>

<!-- ==================== DASHBOARD ==================== -->
<section id="dashboard" class="tab-page visible">

    <div class="card main-status">
        <div class="card-header">Status Geral</div>

        <div class="status-grid">
            <div class="item">
                <label>MQTT:</label>
                <div id="mqtt_status" class="value status-off">Desconectado</div>
            </div>

            <div class="item">
                <label>Central:</label>
                <div id="central_status" class="value status-off">Offline</div>
            </div>

            <div class="item">
                <label>Sistema:</label>
                <div id="sistema" class="value">-</div>
            </div>

            <div class="item">
                <label>Passo:</label>
                <div id="retrolavagem" class="value">-</div>
            </div>

            <div class="item">
                <label>Boia:</label>
                <div id="nivel" class="value">-</div>
            </div>

            <div class="item">
                <label>RetroA:</label>
                <div id="retroA_status" class="value">-</div>
            </div>

            <div class="item">
                <label>RetroB:</label>
                <div id="retroB_status" class="value">-</div>
            </div>

            <div class="item">
                <label>Poço da vez:</label>
                <div id="poco_ativo" class="value">-</div>
            </div>

            <div class="item">
                <label>Operação:</label>
                <div id="manual" class="value">-</div>
            </div>

            <div class="item">
                <label>Poço Manual Sel.:</label>
                <div id="poco_manual_sel" class="value">-</div>
            </div>

            <div class="item">
                <label>Rodízio (min):</label>
                <div id="rodizio_min" class="value">-</div>
            </div>
        </div>

        <div class="toggle-area">
            <button id="btnToggle" class="toggle-btn">
                <span id="toggleText">Ligar Central</span>
            </button>
        </div>
    </div>

    <!-- CARDS DOS TRÊS POÇOS -->
    <div class="pocos-grid">
        <div class="card poco-card">
            <div class="card-header">Poço 01</div>
            <div class="item-row"><label>Comunicação:</label><div id="p1_online" class="value">-</div></div>
            <div class="item-row">
                <label>Fluxo:</label>
                <div id="p1_fluxo" class="value fluxo"><img src="motor.png" class="motor-icon"> <span>-</span></div>
            </div>
            <div class="item-row"><label>Acumulado ON:</label><div id="p1_timer" class="value">-</div></div>
        </div>

        <div class="card poco-card">
            <div class="card-header">Poço 02</div>
            <div class="item-row"><label>Comunicação:</label><div id="p2_online" class="value">-</div></div>
            <div class="item-row">
                <label>Fluxo:</label>
                <div id="p2_fluxo" class="value fluxo"><img src="motor.png" class="motor-icon"> <span>-</span></div>
            </div>
            <div class="item-row"><label>Acumulado ON:</label><div id="p2_timer" class="value">-</div></div>
        </div>

        <div class="card poco-card">
            <div class="card-header">Poço 03</div>
            <div class="item-row"><label>Comunicação:</label><div id="p3_online" class="value">-</div></div>
            <div class="item-row">
                <label>Fluxo:</label>
                <div id="p3_fluxo" class="value fluxo"><img src="motor.png" class="motor-icon"> <span>-</span></div>
            </div>
            <div class="item-row"><label>Acumulado ON:</label><div id="p3_timer" class="value">-</div></div>
        </div>
    </div>
</section>

<!-- ================= CONFIGURAÇÕES ================= -->
<section id="config" class="tab-page">
    <div class="card config-card">
        <div class="card-header">Configurações</div>

        <div class="item-row">
            <label>Intervalo Rodízio:</label>
            <select id="cfg_rodizio">...</select>
        </div>

        <div class="item-row">
            <label>Timeout:</label>
            <select id="cfg_timeout">...</select>
        </div>

        <div class="item-row">
            <label>RetroA:</label>
            <select id="cfg_retroA">...</select>
        </div>

        <div class="item-row">
            <label>RetroB:</label>
            <select id="cfg_retroB">...</select>
        </div>

        <div class="item-row">
            <label>Poço Manual:</label>
            <select id="cfg_manual_poco">...</select>
        </div>

        <button id="btnSend">Enviar</button>
        <div id="cfg_status" class="cfg-status"></div>
    </div>
</section>

<!-- ================= HISTÓRICO ================= -->
<section id="historico" class="tab-page">
    <div class="card history-card">
        <div class="card-header">Histórico</div>
        <ul id="history_list"></ul>
    </div>
</section>

<script src="paho-mqtt.js"></script>
<script src="app.js"></script>

</body>
</html>
